#!/usr/bin/env bash

releases_path=https://www.scala-sbt.org/download.html
cmd="curl -s $releases_path"

sort_cmd='sort'
if sort --help | grep -q -- '-V'; then
  sort_cmd='sort -V'
fi

# Fetch all releases that have a tgz asset available (some tags are archived and unavailable)
versions=$(eval $cmd | grep -E -i 'releases\/download\/v\d+\.\d+\.\d+\/' | awk -F'download/' '{print $2}' | awk -F'/sbt' '{print $1}' | $sort_cmd | uniq)
echo "$versions"
